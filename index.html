<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="stylesheet" href="css/header.css">
        <link rel="stylesheet" href="css/home.css">
        <link rel="stylesheet" href="css/order.css">
        <link rel="stylesheet" href="css/page.css">
        <link rel="stylesheet" href="css/normalize.css">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            body {
                background-image: url('images/background.jpg');
            }
        </style>
        <title>Inked Out</title>
    </head>
    <body>
        <div id="header-container" style="left: 0; position: fixed; top: 0; width: 100%;">
            <header>
                <h1>Inked Out</h1>
            </header>
            <nav>
                <ul>
                    <li onclick="PageManager.switchToPage('home')"><a>Home</a></li>
                    <li onclick="PageManager.switchToPage('home'); $('html, body').animate({scrollTop: $('#home-page').find('article section:nth-child(2)').offset().top});">About</li>
                    <img onclick="PageManager.switchToPage('home')" src="images/logo.png" alt="">
                    <li>Pricing</li>
                    <li onclick="PageManager.switchToPage('order')"><a>Order</a></li>
                    <hr>
                </ul>
            </nav>
        </div>
        <div class="page" id="home-page">
            <article>
                <section>
                    <div>
                        <h1>Inked Out</h1>
                        <h3>Industry level printing at a competitive price</h3>
                    </div>
                    <img id="scroll-button" src="images/scroll.png" alt="Scroll Down">
                </section>
                <section style="background-color: white;">
                    <img src="images/printer.png" alt="">
                    <h3>On Time, Every Time</h3>
                    <p>Without fail, we'll have your poster ready on schedule. A devoted team will cut it to the perfect
                        size, so you never have to do anything yourself - except get started. </p>
                </section>
                <section style="background-image: url('images/painting.jpg');">
                    <img src="images/palette.png" alt="Palette">
                    <h3>Not good at design?</h3>
                    <p>Inked Out will supply a poster design, free of charge*. You'll receive a clean, polished, modern,
                        and eye-catching design tailored towards your idea.</p>
                </section>
                <section>
                    <h3>Still have questions?</h3>
                    <p>Call one of our reps at 408-000-0000 and we'll answer all your questions!</p>

                    <sub>* All images created by Inked Out can be published to our gallery.</sub>
                </section>
            </article>
        </div>
        <div hidden class="page" id="order-page">
            <form action="/" id="order-form">
                <img id="image-preview" style="max-width: 100%;" src="" alt="">
                <h4 style="margin: 0; font-family: sans-serif;">Contact</h4><br>
                <input name="name" placeholder="Name">
                <input type="email" name="email" placeholder="Email">
                <h4 style="margin:10px; font-family: sans-serif;">Image</h4>
                <input id="image-input" type="file" name="file" placeholder="File">
                <input type="text" name="size" placeholder="Size">
                <input type="number" name="quantity" placeholder="Quantity">
                <input type="text" name="paper-type" placeholder="Paper Type">
                <h4 style="margin:10px; font-family: sans-serif;">And finally... get it to me by</h4>
                <input type="date" name="date">
                <input type="submit">
            </form>
        </div>
        <div hidden class="page" id="pricing-page">

        </div>
        <script src="js/formr.js"></script>
        <script src="http://code.jquery.com/jquery-3.2.1.min.js"></script>
        <script>
            const PageManager = {
                _activePage: 'home',
                home: $('#home-page'),
                order: $('#order-page'),
                switchToPage: function(id) {
                    if (id === PageManager._activePage) {
                        return;
                    }
                    $('.page').fadeOut(() => {
                        PageManager[id].fadeIn(() => {
                            PageManager._activePage = id;
                            location.hash = id;
                        });
                    });
                }
            };
        </script>
        <script>
            $('#scroll-button').click(function() {
                $('html, body').animate({
                    scrollTop: $('#home-page').find('article section:nth-child(2)').offset().top
                });
            });
        </script>
        <script>
            addEventListener('scroll', function() {
                requestAnimationFrame(() => {
                    if (scrollY < 10) {
                        $('#header-container').find('header').removeClass('collapsed');
                    } else {
                        $('#header-container').find('header').addClass('collapsed');
                    }
                });
            });
        </script>
        <script>
            if (window.location.hash !== '') {
                PageManager.switchToPage(window.location.hash.replace('#', ''));
            }
        </script>
        <script>
            $('#image-input').change(function(e) {
                if (e.target.files[0]) {
                    const fileReader = new FileReader();
                    fileReader.addEventListener('load', function() {
                        $('#image-preview').attr('src', fileReader.result);
                    });
                    fileReader.readAsDataURL(e.target.files[0]);
                }
            });
            const orderForm = new Formr(document.getElementById('order-form'));
            orderForm.useAJAX(true);
            orderForm.on('submit', function() {
                const XHR = new XMLHttpRequest();
                XHR.open('POST', 'https://inked-out.herokuapp.com/');
                XHR.addEventListener('load', function() {
                    console.log(XHR.responseText);
                });
                XHR.send(orderForm.getFormData());
            });
        </script>
    </body>
</html>