<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="icon" href="favicon.ico">
        <link rel="stylesheet" href="css/header.css">
        <link rel="stylesheet" href="css/home.css">
        <link rel="stylesheet" href="css/order.css">
        <link rel="stylesheet" href="css/page.css">
        <link rel="stylesheet" href="css/normalize.css">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            body {
                background-image: url('images/background.jpg');
            }
        </style>
        <title>Inked Out</title>
    </head>
    <body>
        <div id="notification">
            <h2></h2>
            <p></p>
        </div>
        <div id="header-container" style="left: 0; position: fixed; top: 0; width: 100%;">
            <header>
                <h1>Inked Out</h1>
            </header>
            <nav>
                <ul>
                    <li onclick="PageManager.switchToPage('home'); $('html, body').animate({scrollTop: 0});"><a>Home</a>
                    </li>
                    <li onclick="PageManager.switchToPage('home'); $('html, body').animate({scrollTop: $('#home-page').find('article section:nth-child(2)').offset().top - 60});">
                        About
                    </li>
                    <img onclick="PageManager.switchToPage('home'); $('html, body').animate({scrollTop: 0});"
                         src="images/logo.png" alt="">
                    <li onclick="PageManager.switchToPage('pricing');">Pricing</li>
                    <li onclick="PageManager.switchToPage('order');"><a>Order</a></li>
                    <hr>
                </ul>
            </nav>
        </div>
        <div class="page" id="home-page">
            <article>
                <section>
                    <div>
                        <h1>Inked Out</h1>
                        <h3>Your Design, Our Priority</h3>
                    </div>
                    <img id="scroll-button" src="images/scroll.png" alt="Scroll Down">
                </section>
                <section style="background-color: white;">
                    <img src="images/printer.png" alt="">
                    <h3>On Time, Every Time</h3>
                    <p>Without fail, we'll have your poster ready on schedule. A devoted team will cut it to the perfect
                        size, so you never have to do anything yourself - except get started. </p>
                </section>
                <section style="background-image: url('images/painting.png');">
                    <img src="images/palette.png" alt="Palette">
                    <h3>Not good at design?</h3>
                    <p>Inked Out will supply a poster design, free of charge*. You'll receive a clean, polished, modern,
                        and eye-catching design tailored towards your idea.</p>
                </section>
                <section>
                    <h3>Still have questions?</h3>
                    <p>Call one of our reps at 408-000-0000 and we'll answer all your questions!</p>

                    <sub>* All images created by Inked Out can be published to our gallery.</sub>
                </section>
            </article>
        </div>
        <div class="page" id="order-page">
            <form action="/" id="order-form">
                <img id="image-preview" style="max-width: 100%;" src="" alt="">
                <h4 style="margin: 0; font-family: sans-serif;">Contact</h4><br>
                <input name="name" placeholder="Name">
                <input type="email" name="email" placeholder="Email">
                <input name="phone" type="tel" placeholder="Phone Number">
                <h4 style="margin:10px; font-family: sans-serif;">Image</h4>
                <input id="image-input" type="file" name="file" placeholder="File">
                <label for="size">Size</label>
                <select name="size" id="size">
                    <option value="18x24">18 x 24</option>
                    <option value="22x28">22 x 28</option>
                    <option value="24x36">24 x 36</option>
                    <option value="36x48">36 x 48</option>
                </select>
                <input min="1" type="number" name="quantity" placeholder="Quantity">
                <label for="paper">Paper Type</label>
                <select name="paper" id="paper">
                    <option value="regular">Regular</option>
                    <option value="bond">Bond</option>
                    <option value="vinyl">Vinyl</option>
                    <option value="vinyl-adhesive">Vinyl Adhesive</option>
                </select>
                <div class="style-as-input">
                    <input id="grommets" name="grommets" style="display: inline; width: auto; margin: 10px;"
                           type="checkbox">
                    <label style="margin: 0;" for="grommets">Grommets</label>
                </div>
                <h4 style="margin:10px; font-family: sans-serif;">And finally... get it to me by</h4>
                <input title="Receive order by" type="date" name="date">
                <input type="submit">
            </form>
        </div>
        <div class="page" id="pricing-page" style="background-color: #FFF; padding-top: 110px; display: flex; align-items: center; justify-content: center;">
            <h4 style="margin:10px; font-family: sans-serif;">
                <a href="https://docs.google.com/spreadsheets/d/1GTPOpY6OIrW5_ts3tpuSx4GawZjW9KzBgGOsoBuUQlU/edit?usp=sharing">
                    Check our spreadsheet to see how we price our products!
                </a>
            </h4>

        </div>
        <!--<script type="text/javascript" src="https://cdn.ywxi.net/js/1.js" async></script>-->
        <script src="js/formr.js"></script>
        <script src="js/jquery.js"></script>
        <script>
            const NotificationManager = {
                context: $('#notification'),
                queue: [],
                send: function(title, text) {
                    NotificationManager.context.find('h2').text(title);
                    NotificationManager.context.find('p').text(text);
                    NotificationManager.context.addClass('showing');
                    setTimeout(function() {
                        NotificationManager.context.removeClass('showing');
                    }, 2000);
                }
            };
        </script>
        <script>
            const PageManager = {
                _activePage: 'home',
                home: $('#home-page'),
                order: $('#order-page'),
                pricing: $('#pricing-page'),
                switchToPage: function(id) {
                    if (id === PageManager._activePage) {
                        return;
                    }
                    $('.page').fadeOut(function() {
                        PageManager[id].fadeIn(function() {
                            PageManager._activePage = id;
                            location.hash = id;
                        });
                    });
                }
            };
        </script>
        <script>
            $('#scroll-button').click(function() {
                $('html, body').animate({
                    scrollTop: $('#home-page').find('article section:nth-child(2)').offset().top
                });
            });
        </script>
        <script>
            addEventListener('scroll', function() {
                requestAnimationFrame(() => {
                    if (scrollY < 10) {
                        $('#header-container').find('header').removeClass('collapsed');
                    } else {
                        $('#header-container').find('header').addClass('collapsed');
                    }
                });
            });
        </script>
        <script>
            if (window.location.hash !== '') {
                PageManager.switchToPage(window.location.hash.replace('#', ''));
            }
        </script>
        <script>
            $('#image-input').change(function(e) {
                if (e.target.files[0]) {
                    const fileReader = new FileReader();
                    fileReader.addEventListener('load', function() {
                        $('#image-preview').attr('src', fileReader.result);
                    });
                    fileReader.readAsDataURL(e.target.files[0]);
                }
            });
            const orderForm = new Formr(document.getElementById('order-form'));
            orderForm.useAJAX(true);
            orderForm.on('submit', function() {
                const XHR = new XMLHttpRequest();
                XHR.open('POST', 'https://inked-out.herokuapp.com/');
                XHR.addEventListener('load', function() {
                    NotificationManager.send('Inked Out', XHR.responseText);
                    orderForm.empty();
                    $('#image-preview')[0].src = '';
                });
                XHR.addEventListener('error', function() {
                    NotificationManager.send('Inked Out',
                        'Eek! Our orders server went down. They should be back up within 24 hours');
                });
                NotificationManager.send('Inked Out', 'Sending order to server');
                XHR.send(orderForm.getFormData());
            });
        </script>
    </body>
</html>
